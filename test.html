<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>

</head>
<body>
   <section class="container">
      <div id="cube">
        <figure class="side front">Drag me</figure>
        <figure class="side back">2</figure>
        <figure class="side right">3</figure>
        <figure class="side left">4</figure>
        <figure class="side top">5</figure>
        <figure class="side bottom">6</figure>
      </div>
    </section>
</body>
<script>
   let deltaX = 0;
let deltaY = 0;
let lastX = 0;
let lastY = 0;

// Update CSS with pan offsets
function rotateCube(distanceY = 0, distanceX = 0) {
  document.getElementById('cube').style.transform = `rotateY(${distanceY}deg) rotateX(${distanceX}deg)`;
  lastX = distanceX;
  lastY = distanceY;
} 

// Add current position to pan distance, divided by 2 for slower speed
function calculateOffset(distance, delta) {
  return distance / 2 + delta;
}

// Init Hammer
const hammertime = new Hammer(document.querySelector('.container'));
// Set motion tracking
hammertime.get('pan').set({ direction: Hammer.DIRECTION_ALL });
// Update transformation CSS on pan
hammertime.on('pan', ev => rotateCube(
  calculateOffset(ev.deltaX, deltaX), 
  calculateOffset(-ev.deltaY, deltaY),
));

// Save position on mouse up
hammertime.on('panend', ev => {
  deltaX = lastY;
  deltaY = lastX;
});
</script>
</html>